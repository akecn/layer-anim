<!doctype html>
<html>
<head>
    <meta charset="utf-8"/>
    <title>LayerAnim Demo</title>
    <link rel="stylesheet" href="test.css"/>
    <script src="http://a.tbcdn.cn/s/kissy/1.3.0/kissy-min.js" charset="utf-8"></script>
    <script>
        var S = KISSY;
        if (S.Config.debug)
        {
            var srcPath = "../../../";
            S.config({
                packages:[
                    {
                        name:"gallery",
                        path:srcPath,
                        debug: true,
                        charset:"utf-8",
                        ignorePackageNameInUri:true
                    }
                ]
            });
        }
    </script>
</head>

<body>
    <div>
        <div>
            <span>L</span>
            <span>a</span>
            <span>y</span>
            <span>e</span>
            <span>r</span>
            <span>A</span>
            <span>n</span>
            <span>i</span>
            <span>m</span>
            <em>!</em>
        </div>

        <script>
            KISSY.use('gallery/layer-anim/1.1/, dom', function(S, LayerAnim, DOM)
            {
                var nodes = DOM.query("span");
                var config = [];
                config[0] =
                {
                    node: nodes,
                    to:
                    {
                        top: 100
                    },
                    easing: "Bounce.easeOut",
                    stagger: 0.1,
                    duration: 1,
                    degrade:
                    {
//                        chrome: 30
                    }
                };
                config[1] =
                {
                    node: DOM.get("em"),
                    to:
                    {
                        top: 90,
                        fontSize: "50px",
                        opacity: 1
                    },
                    easing: "Power4.easeIn",
                    duration: 0.6,
                    repeat: 2,
                    repeatDelay: 0.1,
                    yoyo: true,
                    align: "sequence"
                };
                var anim = new LayerAnim(
                {
                    anims: config,
                    repeat: 1,
                    repeatDelay: 0.4,
                    yoyo: true,
                    degrade:
                    {
//                        chrome: 30
                    }
                });
                anim.on("start", function(e)
                {
                    console.log("start");
                });
                anim.on("update", function(e)
                {
                    console.log("update");
                });
                anim.on("end", function(e)
                {
                    console.log("end");
                });
                anim.run(true);
            });
        </script>
    </div>
</body>
</html>